<html>
<head>
<title>TestNG:  Log Verification Test Cases</title>
<link href="../testng.css" rel="stylesheet" type="text/css" />
<link href="../my-testng.css" rel="stylesheet" type="text/css" />

<style type="text/css">
.log { display: none;} 
.stack-trace { display: none;} 
</style>
<script type="text/javascript">
<!--
function flip(e) {
  current = e.style.display;
  if (current == 'block') {
    e.style.display = 'none';
    return 0;
  }
  else {
    e.style.display = 'block';
    return 1;
  }
}

function toggleBox(szDivId, elem, msg1, msg2)
{
  var res = -1;  if (document.getElementById) {
    res = flip(document.getElementById(szDivId));
  }
  else if (document.all) {
    // this is the way old msie versions work
    res = flip(document.all[szDivId]);
  }
  if(elem) {
    if(res == 0) elem.innerHTML = msg1; else elem.innerHTML = msg2;
  }

}

function toggleAllBoxes() {
  if (document.getElementsByTagName) {
    d = document.getElementsByTagName('div');
    for (i = 0; i < d.length; i++) {
      if (d[i].className == 'log') {
        flip(d[i]);
      }
    }
  }
}

// -->
</script>

</head>
<body>
<h2 align='center'>Log Verification Test Cases</h2><table border='1' align="center">
<tr>
<td>Tests passed/Failed/Skipped:</td><td>2/2/0</td>
</tr><tr>
<td>Started on:</td><td>Thu Jun 21 21:50:53 IST 2018</td>
</tr>
<tr><td>Total time:</td><td>0 seconds (78 ms)</td>
</tr><tr>
<td>Included groups:</td><td></td>
</tr><tr>
<td>Excluded groups:</td><td></td>
</tr>
</table><p/>
<small><i>(Hover the method name to see the test class name)</i></small><p/>
<table width='100%' border='1' class='invocation-failed'>
<tr><td colspan='4' align='center'><b>FAILED TESTS</b></td></tr>
<tr><td><b>Test method</b></td>
<td width="30%"><b>Exception</b></td>
<td width="10%"><b>Time (seconds)</b></td>
<td><b>Instance</b></td>
</tr>
<tr>
<td title='com.apachelog.qa.test.LogVerificationTest.putBeforePostTest()'><b>putBeforePostTest</b><br>Test class: com.apachelog.qa.test.LogVerificationTest<br>Test method: This Test case is designed to check "All POST requests to a path need to come after the PUT request for that path".The Test case will FAIL if 1) PUT request comes after POST for any given PATH for one or more times in given log. 2) NO PUT Requset in log for POST request to a given path. For all all other conditions Test Case will PASS and print logs in Reporter Logs.For more Detailed log, Please refer Reporter Output log in TestNG Report<br/>
<a href="#Output-26675555" onClick='toggleBox("Output-26675555", this, "Show output", "Hide output");'>Show output</a>

<a href="#Output-26675555" onClick="toggleAllBoxes();">Show all outputs</a>
<div class='log' id="Output-26675555">
************Test Case "Put before Post " is NOT GOOD As PUT is found after POST in request : PUT /articles/5678 HTTP/1.1 at line number : 6 in given log
 Respective POST request is : POST /articles/5678 HTTP/1.1 at line number :4 in given log******************
<br/>
||***************Test Case "Put before Post " is GOOD for given Request line As Put is found before POST in request : PUT /articles/1234 HTTP/1.1 at line number : 3 in given log
 Respective Post request is : POST /articles/1234 HTTP/1.1 at line number : 10 in given log***************||
<br/>
</div>
</td>
<td><div><pre>java.lang.AssertionError: Failure Reason may be either of two.1) PUT to a given path observed after POST to a given path for one or more times in given log. 2) NO PUT Requset in log for POST request to a given path. For more Details Please refer Reporter Output log in TestNG Report expected [true] but found [false]
	at com.apachelog.qa.test.LogVerificationTest.putBeforePostTest(LogVerificationTest.java:95)
... Removed 30 stack frames</pre></div><a href='#' onClick='toggleBox("stack-trace26675555", this, "Click to show all stack frames", "Click to hide stack frames")'>Click to show all stack frames</a>
<div class='stack-trace' id='stack-trace26675555'><pre>java.lang.AssertionError: Failure Reason may be either of two.1) PUT to a given path observed after POST to a given path for one or more times in given log. 2) NO PUT Requset in log for POST request to a given path. For more Details Please refer Reporter Output log in TestNG Report expected [true] but found [false]
	at org.testng.Assert.fail(Assert.java:96)
	at org.testng.Assert.failNotEquals(Assert.java:776)
	at org.testng.Assert.assertEqualsImpl(Assert.java:137)
	at org.testng.Assert.assertEquals(Assert.java:118)
	at org.testng.Assert.assertEquals(Assert.java:568)
	at com.apachelog.qa.test.LogVerificationTest.putBeforePostTest(LogVerificationTest.java:95)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:124)
	at org.testng.internal.Invoker.invokeMethod(Invoker.java:580)
	at org.testng.internal.Invoker.invokeTestMethod(Invoker.java:716)
	at org.testng.internal.Invoker.invokeTestMethods(Invoker.java:988)
	at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:125)
	at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:109)
	at org.testng.TestRunner.privateRun(TestRunner.java:648)
	at org.testng.TestRunner.run(TestRunner.java:505)
	at org.testng.SuiteRunner.runTest(SuiteRunner.java:455)
	at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:450)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:415)
	at org.testng.SuiteRunner.run(SuiteRunner.java:364)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:84)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1208)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1137)
	at org.testng.TestNG.runSuites(TestNG.java:1049)
	at org.testng.TestNG.run(TestNG.java:1017)
	at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:114)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)
</pre></div></td>
<td>0</td>
<td>com.apachelog.qa.test.LogVerificationTest@be2bc2</td></tr>
<tr>
<td title='com.apachelog.qa.test.LogVerificationTest.suspiciousActivityTest()'><b>suspiciousActivityTest</b><br>Test class: com.apachelog.qa.test.LogVerificationTest<br>Test method: This Test case is designed to check "The log must have less than five 401 responses from any host." The Test case will FAIL if count of 401 Response CODE exceeds FIVE from any HOST in given log. For Detailed log ,Please refer Reporter Output log in TestNG Report<br/>
<a href="#Output-30691851" onClick='toggleBox("Output-30691851", this, "Show output", "Hide output");'>Show output</a>

<a href="#Output-30691851" onClick="toggleAllBoxes();">Show all outputs</a>
<div class='log' id="Output-30691851">
********** httpStatusCode : 401 found in given log at line number : 1 from client host :1.2.3.4 **********<br/>
********** httpStatusCode : 401 found in given log at line number : 9 from client host :company.com **********<br/>
********** httpStatusCode : 401 found in given log at line number : 13 from client host :company.com **********<br/>
********** httpStatusCode : 401 found in given log at line number : 19 from client host :company.com **********<br/>
********** httpStatusCode : 401 found in given log at line number : 22 from client host :1.2.3.4 **********<br/>
</div>
</td>
<td><div><pre>java.lang.AssertionError: Count for 401 staus code in given log is greater than 4.
 Actual is :5 Expected is less than : 5 expected [false] but found [true]
	at com.apachelog.qa.test.LogVerificationTest.suspiciousActivityTest(LogVerificationTest.java:113)
... Removed 30 stack frames</pre></div><a href='#' onClick='toggleBox("stack-trace30691851", this, "Click to show all stack frames", "Click to hide stack frames")'>Click to show all stack frames</a>
<div class='stack-trace' id='stack-trace30691851'><pre>java.lang.AssertionError: Count for 401 staus code in given log is greater than 4.
 Actual is :5 Expected is less than : 5 expected [false] but found [true]
	at org.testng.Assert.fail(Assert.java:96)
	at org.testng.Assert.failNotEquals(Assert.java:776)
	at org.testng.Assert.assertEqualsImpl(Assert.java:137)
	at org.testng.Assert.assertEquals(Assert.java:118)
	at org.testng.Assert.assertEquals(Assert.java:568)
	at com.apachelog.qa.test.LogVerificationTest.suspiciousActivityTest(LogVerificationTest.java:113)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:124)
	at org.testng.internal.Invoker.invokeMethod(Invoker.java:580)
	at org.testng.internal.Invoker.invokeTestMethod(Invoker.java:716)
	at org.testng.internal.Invoker.invokeTestMethods(Invoker.java:988)
	at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:125)
	at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:109)
	at org.testng.TestRunner.privateRun(TestRunner.java:648)
	at org.testng.TestRunner.run(TestRunner.java:505)
	at org.testng.SuiteRunner.runTest(SuiteRunner.java:455)
	at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:450)
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:415)
	at org.testng.SuiteRunner.run(SuiteRunner.java:364)
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:84)
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1208)
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1137)
	at org.testng.TestNG.runSuites(TestNG.java:1049)
	at org.testng.TestNG.run(TestNG.java:1017)
	at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:114)
	at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)
	at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)
</pre></div></td>
<td>0</td>
<td>com.apachelog.qa.test.LogVerificationTest@be2bc2</td></tr>
</table><p>
<table width='100%' border='1' class='invocation-passed'>
<tr><td colspan='4' align='center'><b>PASSED TESTS</b></td></tr>
<tr><td><b>Test method</b></td>
<td width="30%"><b>Exception</b></td>
<td width="10%"><b>Time (seconds)</b></td>
<td><b>Instance</b></td>
</tr>
<tr>
<td title='com.apachelog.qa.test.LogVerificationTest.authorizedAccessTest()'><b>authorizedAccessTest</b><br>Test class: com.apachelog.qa.test.LogVerificationTest<br>Test method: This Test is used to check any Unauthorized access (401) from site ***.example.org. Test case will fail only if 401 found from site ***.example.org in given log. In all other condition Test Case will PASS. For Detailed logs please refer Reporter Output Log<br/>
<a href="#Output-28913418" onClick='toggleBox("Output-28913418", this, "Show output", "Hide output");'>Show output</a>

<a href="#Output-28913418" onClick="toggleAllBoxes();">Show all outputs</a>
<div class='log' id="Output-28913418">
********** All access are authorized form and No 401 code was found in the given log from host "*.example.org" **********<br/>
</div>
</td>
<td></td>
<td>0</td>
<td>com.apachelog.qa.test.LogVerificationTest@be2bc2</td></tr>
<tr>
<td title='com.apachelog.qa.test.LogVerificationTest.smallResposeTest()'><b>smallResposeTest</b><br>Test class: com.apachelog.qa.test.LogVerificationTest<br>Test method: This Test Case is used to find Response Byte received from server. Each Response byte in given log should be less than 100000 byte. This Test case will FAIL if any one or More Response byte will be greater than 100000 bytes.For Detailed logs please refer Reporter Output Log<br/>
<a href="#Output-21308408" onClick='toggleBox("Output-21308408", this, "Show output", "Hide output");'>Show output</a>

<a href="#Output-21308408" onClick="toggleAllBoxes();">Show all outputs</a>
<div class='log' id="Output-21308408">
********** All Responses are below 100000 **********<br/>
</div>
</td>
<td></td>
<td>0</td>
<td>com.apachelog.qa.test.LogVerificationTest@be2bc2</td></tr>
</table><p>
</body>
</html>